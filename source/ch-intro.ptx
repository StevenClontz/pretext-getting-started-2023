<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="ch-intro">
    <title>Write Once, Read Anywhere</title>
    <objectives>
        <introduction>
            <p>
                At the end of this chapter, you'll
            </p>
        </introduction>
        <ol>
            <li>
                <p>
                    Become aware of the eleven PreTeXt Principles.
                </p>
            </li>
            <li>
                <p>
                    Be able to identify several features of PreTeXt.
                </p>
            </li>
            <li>
                <p>
                    Have a working GitHub Codespaces environment to suitable for
                    authoring and editing in PreTeXt.
                </p>
            </li>
        </ol>
    </objectives>
    <section xml:id="sec-setting-up-codespaces">
        <title>Setting up Codespaces</title>
        <p> A <term>Codespace</term> is an authoring environment that lives in the <q>cloud</q>,
            that is, a virtual machine hosted by GitHub that has all of the software needed to
            create great accessible documents, accessible with just a web browser. </p>
        <p>
            This coding environment uses a web version of Virtual Studio
            Code, an open-source editor, along with the PreTeXt community's
            custom plugins and software to get started authoring quickly.
        </p>
        <p> Follow the instructions at <url href="https://github.com/PreTeXtBook/pretext-codespace" />
            to get started. Let this run for a few minutes in the background while you review the
            rest of this section. </p>
    </section>
    <section xml:id="sec-principles">
        <title>PreTeXt Principles</title>
        <p>
            A more detailed monograph on 
            <url href="https://pretextbook.org/doc/guide/html/philosophy.html">PreTeXt's philosophy</url>
            is availabe in the PreTeXt Guide.
        </p>
             <list xml:id="list-principles">
                <title><pretext /> Principles</title>

                <ol>
                    <li xml:id="principle-markup"><pretext /> is a markup language that captures the structure of textbooks and research papers.</li>

                    <li xml:id="principle-readable"><pretext /> is human-readable and human-writable.</li>

                    <li xml:id="principle-multiple-outputs"><pretext /> documents serve as a single source which can be easily converted to multiple other formats, current and future.</li>

                    <li xml:id="principle-good-design"><pretext /> respects the good design practices which have been developed over the past centuries.</li>

                    <li xml:id="principle-common-and-reasonable"><pretext /> makes it easy for authors to implement features which are both common and reasonable.</li>

                    <li xml:id="principle-web-versions"><pretext /> supports online documents which make use of the full capabilities of the Web.</li>

                    <li xml:id="principle-output-styles"><pretext /> output is styled by selecting from a list of available templates, relieving the author of the burden involved in micromanaging the output format.</li>

                    <li xml:id="principle-open-software"><pretext /> is free: the software is available at no cost, with an open license. The use of <pretext /> does not impose any constraints on documents prepared with the system.</li>

                    <li xml:id="principle-open"><pretext /> is not a closed system: documents can be converted to <latex /> and then developed using standard <latex /> tools.</li>

                    <li xml:id="principle-users"><pretext /> recognizes that scholarly documents involve the interaction of authors, publishers, scholars, curators, instructors, students, and readers, with each group having its own needs and goals.</li>

                    <li xml:id="principle-accessibility"><pretext/> recognizes the inherent value in producing material that is accessible to everyone.</li>
                </ol>
            </list>
    </section>
    <section xml:id="sec-xml">
        <title><pretext/> is XML</title>
        <p>
Since <pretext /> uses the XML markup language, all content is structured in terms
of <term>elements</term>. The root <c>pretext</c> element nests many other elements
inside of it. This is accomplished by surrounding everything with a starting
<c>&lt;pretext&gt;</c> <term>tag</term> and an ending <c>&lt;/pretext&gt;</c> tag.
(Folks with HTML experience will find this pattern familiar, akin to the <q>HTML</q>
root element.)
        </p>
        <p>
<xref ref="listing-simple"/> is a very simple <pretext />/XML document.
        </p>
        <listing xml:id="listing-simple">
            <caption>Source of a simple <pretext /> book project.</caption>
            <program language="xml">
                <input>
                    <![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<pretext>
    <article>
        <title>Hello world!</title>
        <p>Welcome to PreTeXt!</p>
    </article>
</pretext>
                    ]]>
                </input>
            </program>
        </listing>
    </section>
    <section xml:id="sec-divisions">
        <title>Books and Divisions</title>
        <p>
There are several documents you can write in <pretext/>, such as
<c>&lt;article&gt;</c>s and <c>&lt;slideshow&gt;</c>s. This tutorial will
focus on <c>&lt;book&gt;</c>s.
        </p>
        <p>
A <c>&lt;book&gt;</c> typically includes
<c>&lt;frontmatter&gt;</c>, and <c>&lt;backmatter&gt;</c>.
        </p>
        <p>
Between <c>&lt;frontmatter&gt;</c>, and <c>&lt;backmatter&gt;</c>
are either several <c>&lt;chapter&gt;</c>s
or <c>&lt;part&gt;</c>s. If used, <c>&lt;part&gt;</c>s are subdivided into
<c>&lt;chapter&gt;</c>s. Then <c>&lt;chapter&gt;</c>s subdivide into
<c>&lt;section&gt;</c>s, and <c>&lt;section&gt;</c>s can have
<c>&lt;subsection&gt;</c>s.
        </p>
        <p>
Each of these subdivisions needs a <c>&lt;title&gt;</c>, and 
may have an <c>&lt;introduction&gt;</c> or
<c>&lt;conclusion&gt;</c>.
        </p>
        <p>
<xref ref="listing-book-source"/> puts these elements together for
a simple <pretext/> project.
        </p>
        <listing xml:id="listing-book-source">
            <caption>Source of a simple <pretext /> book project.</caption>
            <program language="xml">
                <input>
            <![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<pretext xml:lang="en-US">
  <!-- (author configurations go in docinfo) -->
  <docinfo>
    <macros>
      \newcommand{\R}{\mathbb R}
    </macros>
  </docinfo>


  <book xml:id="my-great-book">
    <title>My Great Book</title>
    <subtitle>An example to get you started</subtitle>

    <frontmatter xml:id="frontmatter">
      <titlepage>
        <author>
          <personname>You</personname>
          <department>Your department</department>
          <institution>Your institution</institution>
        </author>
        <date>
          <today />
        </date>
      </titlepage>
    </frontmatter>

    <chapter xml:id="chapter-welcome">
      <title>Welcome!</title>
      <introduction>
        <p>This chapter is about the real numbers <m>\R</m></p>
      </introduction>

      <section xml:id="section-getting-started">
        <title>Let's get started</title>
        <p>Hello</p>
      </section>

    </chapter>

    <backmatter xml:id="backmatter">
      <title>Backmatter</title>

      <colophon>
        <p> This book was authored in <pretext />. </p>
      </colophon>

    </backmatter>

  </book>

</pretext>
            ]]>
                </input>
            </program>
        </listing>
    </section>

    <section xml:id="sec-paragraphs">
        <title>Paragraphs, Lists, and Blocks</title>
        <p>
    Within each division (chapter, section, etc., see <xref ref="sec-divisions"/>) of your book,
    you likely want some content (e.g. what you're reading right now!).
        </p>
        <p>
    Written content is usually structured as <term>paragraphs</term>, <c>&lt;p&gt;</c> for short.
    If you've ever written <abbr>HTML</abbr>, this tag may be familiar to you, but be warned:
    <em><pretext/> is not HTML</em>! However, there is some overlap: you can <em>emphasize</em>
    words or phrases with <c>&lt;em&gt;</c> for instance. However, while HTML uses the full word
    <q>code</q> for its tag, <pretext /> uses the shortened <c>&lt;c&gt;</c> tag (which is what
    we're using for expressing these tags).
        </p>
        <p>
    For users coming from LaTeX, rest assured your mathematical formulas work in <pretext />.
    Inline mathmode <m>ax^2+bx+c=0</m> is invoked with <c>&lt;m&gt;ax^2+bx+c=0&lt;/m&gt;</c>,
    while display mathematics
    like <me>x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</me> is available via
    <c>&lt;me&gt;x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}&lt;/me&gt;</c>.
        </p>
    </section>

    <section xml:id="sec-figures">
        <title>Figures and Diagrams</title>
        <p>TODO</p>
        <figure xml:id="figure-braille">
            <caption>Photograph taken from AIM Press Release on braille.</caption>
            <image source="braille_bubble.jpg" width="50%">
                <description>
                    Photograph of a hand tracing over braille code. A cartoon thought bubble
                    contains the quadratic formula in standard mathematical notation, matching the
                    contents of the braille code in the photograph.
                </description>
            </image>
        </figure>
        <figure xml:id="figure-sage-polynomial-approximation">
            <caption>Sage polynomial approximations of <m>f(x)=1/(1+25x^2)</m></caption>
            <image xml:id="sageplot-polynomial-approximation">
                <sageplot variant="2d">
def f(x):
    return RDF(1 / (1 + 25 * x^2))
def runge():
    R = PolynomialRing(RDF, 'x')
    g = plot(f, -1, 1, rgbcolor='red', thickness=1)
    polynom = []
    for i, n in enumerate([6, 8, 10, 12]):
        data = [(x, f(x)) for x in xsrange(-1, 1, 2 / (n - 1), include_endpoint=True)]
        polynom.append(R.lagrange_polynomial(data))
        g += list_plot(data, rgbcolor='black', pointsize=5)
    g += plot(polynom, -1, 1, fill=f, fillalpha=0.2, thickness=0)
    return g
runge()
                </sageplot>
            </image>
        </figure>
    </section>
    <section xml:id="sec-interactives">
        <title>Interactives</title>
        <p>TODO</p>
    </section>
    <section xml:id="sec-exercises">
        <title>Exercises</title>
        <p>TODO</p>
    </section>
    <section xml:id="sec-not-just-html-not-just-pdf">
        <title>Not Just HTML, Not Just PDF</title>
        <p> This document is available in HTML format at <url
                href="https://stevenclontz.github.io/ptx-jmm-2023/" />, and the same document is
            available in a PDF format at <url
                href="https://stevenclontz.github.io/ptx-jmm-2023/pdf/main.pdf" />. </p>
        <p> Obtaining these formats are as easy as running <c>pretext build web</c> and
            <c>pretext build print</c> respectively. PreTeXt supports other types of output as well, including
            Jupyter notebooks, ePub, and tacticle braille code.</p>
        <p> You're encouraged to view authoring in
            PreTeXt as an <em>investment</em>: you may not need the braille output today, but the little
            extra thought and care required to author in PreTeXt will allow you to provide this
            version of your document to a blind student tomorrow. </p>
    </section>
    <section xml:id="sec-intro-conclusion">
        <title>Conclusion</title>
        <p>
            Go check back on your Codespace. If it's up and running, you're ready to
            move on to the next section!
        </p>
    </section>
</chapter>